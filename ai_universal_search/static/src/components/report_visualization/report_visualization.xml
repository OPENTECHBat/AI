<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="ai_universal_search.report_visualization" owl="1">
        <div class="report-visualization h-100" t-attf-class="{{ state.error ? 'border p-3' : '' }}">
            <!-- Loading state -->
            <div t-if="state.loading" class="h-100 d-flex flex-column align-items-center justify-content-center">
                <i class="fa fa-circle-o-notch fa-spin fa-3x mb-3 text-muted"></i>
                <p class="text-muted">Loading visualization...</p>
            </div>
            
            <!-- Error state -->
            <div t-elif="state.error" class="alert alert-danger h-100 d-flex flex-column align-items-center justify-content-center">
                <i class="fa fa-exclamation-triangle fa-3x mb-3"></i>
                <p class="text-center"><t t-out="state.error"/></p>
            </div>
            
            <!-- Chart canvas -->
            <div t-else="" class="chart-container h-100 w-100">
                <canvas t-ref="chartCanvas"></canvas>
            </div>
        </div>
    </t>
</templates>
